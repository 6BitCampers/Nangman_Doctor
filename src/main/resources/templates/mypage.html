<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/layout}" xmlns="">
<head>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.8.3/font/bootstrap-icons.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>


<body>
<div layout:fragment="content">
    <div th:if="${udto != null}" style="display: flex; height: 100vh; background-color: orange; padding: 20px; gap: 20px;">
        <div style="flex: 1; padding: 20px; background-color: whitesmoke; margin: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; justify-content: flex-start;">
            <div style="display: flex; justify-content: flex-end;">
                <a href="#" style="text-decoration: none; color: inherit;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
                    </svg>
                </a>
            </div>
            <h1 th:text="${udto.user_name} + '님 환영합니다!'"></h1>
            <table style="width: 100%; margin-top: 30px; border-collapse: collapse;">
                <tr>
                    <th style="border: 1px solid black;">이름</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_name}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">이메일</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_email}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">전화번호</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_hp}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">닉네임</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_nickname}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">성별</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_gender}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">주소</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_addr1}"></td>
                </tr>
                <tr th:if="${udto.user_interest != null}">
                    <th style="border: 1px solid black;">관심분야</th>
                    <td style="border: 1px solid black;" th:text="${udto.user_interest}"></td>
                </tr>
            </table>
            <span th:if="${status == 1}">
                <a href="/test" style="background-color: #007bff; color: white; text-decoration: none; padding: 10px 20px; border-radius: 5px; font-size: 16px; display: inline-block; transition: background-color 0.3s ease;">
                    화상진료하러가기
                </a>
                <script>
                    $('a').hover(function() {
                        $(this).css('background-color', '#0056b3');
                    }, function() {
                        $(this).css('background-color', '#007bff');
                    });
                </script>
            </span>
        </div>

        <div th:if="${edto != null}" style="flex: 1; padding: 20px; background-color: whitesmoke; margin: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; justify-content: flex-start;">
            <div style="display: flex; justify-content: flex-end;">
                <a href="#" style="text-decoration: none; color: inherit;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-pencil-square" viewBox="0 0 16 16">
                        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
                        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
                    </svg>
                </a>
            </div>
            <h1 th:text="${edto.employee_name} + '님 환영합니다!'"></h1>
            <table style="width: 100%; margin-top: 30px; border-collapse: collapse;">
                <tr>
                    <th style="border: 1px solid black;">이름</th>
                    <td style="border: 1px solid black;" th:text="${edto.employee_name}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">이메일</th>
                    <td style="border: 1px solid black;" th:text="${edto.employee_email}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">전화번호</th>
                    <td style="border: 1px solid black;" th:text="${edto.employee_phone}"></td>
                </tr>
                <tr>
                    <th style="border: 1px solid black;">직책</th>
                    <td style="border: 1px solid black;" th:text="${edto.employee_position}"></td>
                </tr>
                <tr th:if="${edto.employee_department != null}">
                    <th style="border: 1px solid black;">부서</th>
                    <td style="border: 1px solid black;" th:text="${edto.employee_department}"></td>
                </tr>
            </table>
        </div>

        <!--예약목록 -->
        <div style="flex: 1; padding: 20px; background-color: whitesmoke; margin: 20px; border-radius: 8px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); display: flex; flex-direction: column; justify-content: flex-start;">
            <h2>예약 목록</h2>
            <br>
            <div class="col-md-8">
                <ul class="list-unstyled" style="width: 100%; margin-bottom: 20px;">
                    <li th:each="reservation, iterStat : ${reservationList}" th:id="'reservation-' + ${iterStat.index}" style="background-color: #ffffff; border: 1px solid #dee2e6; border-radius: 0.25rem; padding: 1.5rem; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
                        <h2 class="h5">예약 번호: <span th:text="${reservation.get('reservation_no')}">1</span></h2>
                        <p>이름: <span th:text="${reservation.get('user_name')}">홍길동</span></p>
                        <p>날짜: <span th:text="${reservation.get('reservation_date')}">2023-01-01</span></p>
                        <p>시간: <span th:text="${reservation.get('reservation_time')}">10:00 - 11:00</span></p>
                        <p>진료명: <span th:text="${reservation.get('reservation_reason')}">진료명</span></p>
                        <p>상태:
                            <span th:if="${reservation.get('reservation_status') == 1}" style="color: #ffc107;">예약 요청</span>
                            <span th:if="${reservation.get('reservation_status') == 2}" style="color: #17a2b8;">예약 메일확인
                                <a href="#" class="styled-link confirm-button" onclick="confirmReservation(/* 추가 인자 */)">확정</a>
                                <a href="#" class="styled-link reject-button" onclick="rejectReservation(/* 추가 인자 */)">거절</a>
                            </span>
                            <span th:if="${reservation.get('reservation_status') == 3}" style="color: #28a745;">예약 확정하기</span>
                        </p>
                    </li>
                    <br>
                </ul>
            </div>
        </div>
        <style>
            .styled-link {
                padding: 10px 20px;
                font-size: 16px;
                border-radius: 5px;
                cursor: pointer;
                transition: background-color 0.3s, box-shadow 0.3s, transform 0.3s;
                text-decoration: none;
                display: inline-block;
            }

            .confirm-button {
                background-color: orange; /* Orange background */
                color: white; /* White text */
            }

            .confirm-button:hover,
            .confirm-button:focus {
                background-color: #e69500; /* Darker orange */
                color: white;
                box-shadow: 0 0.5em 0.5em -0.4em rgba(0, 0, 0, 0.2);
                transform: translateY(-0.25em);
            }

            .reject-button {
                background-color: white; /* White background */
                color: orange; /* Orange text */
                border: 1px solid orange; /* Orange border */
            }

            .reject-button:hover,
            .reject-button:focus {
                background-color: #f2f2f2; /* Light grey background */
                color: orange;
                box-shadow: 0 0.5em 0.5em -0.4em rgba(0, 0, 0, 0.2);
                transform: translateY(-0.25em);
            }
        </style>
    </div>
</div>

<script>
    function confirmReservation(/* 추가 인자 */) {
        $.ajax({
            url: '/confirm',
            method: 'POST',
            data: {
                // 추가 인자
            },
            success: function(response) {
                // 성공 핸들러
            },
            error: function(error) {
                // 에러 핸들러
            }
        });
    }

    function rejectReservation(/* 추가 인자 */) {
        $.ajax({
            url: '/reject',
            method: 'POST',
            data: {
                // 추가 인자
            },
            success: function(response) {
                // 성공 핸들러
            },
            error: function(error) {
                // 에러 핸들러
            }
        });
    }
</script>

</body>
</html>

